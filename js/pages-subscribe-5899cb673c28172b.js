(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20367],{552216:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/subscribe",function(){return n(948062)}])},782322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return i},noSSR:function(){return l}});let r=n(438754);n(785893),n(667294);let a=r._(n(746543));function o(e){return{default:(null==e?void 0:e.default)||e}}function l(e,t){return delete t.webpack,delete t.modules,e(t)}function i(e,t){let n=a.default,r={loading:e=>{let{error:t,isLoading:n,pastDelay:r}=e;return null}};e instanceof Promise?r.loader=()=>e:"function"==typeof e?r.loader=e:"object"==typeof e&&(r={...r,...e});let i=(r={...r,...t}).loader;return(r.loadableGenerated&&(r={...r,...r.loadableGenerated},delete r.loadableGenerated),"boolean"!=typeof r.ssr||r.ssr)?n({...r,loader:()=>null!=i?i().then(o):Promise.resolve(o(()=>null))}):(delete r.webpack,delete r.modules,l(n,r))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},420262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return r}});let r=n(438754)._(n(667294)).default.createContext(null)},746543:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return p}});let r=n(438754)._(n(667294)),a=n(420262),o=[],l=[],i=!1;function s(e){let t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(e=>(n.loading=!1,n.loaded=e,e)).catch(e=>{throw n.loading=!1,n.error=e,e}),n}class c{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function u(e){return function(e,t){let n=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),o=null;function s(){if(!o){let t=new c(e,n);o={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return o.promise()}if(!i){let e=n.webpack?n.webpack():n.modules;e&&l.push(t=>{for(let n of e)if(t.includes(n))return s()})}function u(e,t){!function(){s();let e=r.default.useContext(a.LoadableContext);e&&Array.isArray(n.modules)&&n.modules.forEach(t=>{e(t)})}();let l=r.default.useSyncExternalStore(o.subscribe,o.getCurrentValue,o.getCurrentValue);return r.default.useImperativeHandle(t,()=>({retry:o.retry}),[]),r.default.useMemo(()=>{var t;return l.loading||l.error?r.default.createElement(n.loading,{isLoading:l.loading,pastDelay:l.pastDelay,timedOut:l.timedOut,error:l.error,retry:o.retry}):l.loaded?r.default.createElement((t=l.loaded)&&t.default?t.default:t,e):null},[e,l])}return u.preload=()=>s(),u.displayName="LoadableComponent",r.default.forwardRef(u)}(s,e)}function d(e,t){let n=[];for(;e.length;){let r=e.pop();n.push(r(t))}return Promise.all(n).then(()=>{if(e.length)return d(e,t)})}u.preloadAll=()=>new Promise((e,t)=>{d(o).then(e,t)}),u.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let n=()=>(i=!0,t());d(l,e).then(n,n)})),window.__NEXT_PRELOADREADY=u.preloadReady;let p=u},948062:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return F},default:function(){return I}});var r=n(785893),a=n(667294),o=n(164848),l=n(799204),i=n(197339),s=n(465558),c=n(139575),u=n(505152),d=n.n(u),p=n(693197),h=n(282895),m=n(425813),f=n(483370),x=n(849174),g=n(479061),_=n.n(g);let b=d()(()=>Promise.all([n.e(91425),n.e(85438)]).then(n.bind(n,451321)).then(e=>({default:e.TrialExplanationBanner})),{loadableGenerated:{webpack:()=>[451321]}}),j=d()(()=>Promise.all([n.e(36294),n.e(11053),n.e(64995),n.e(13867),n.e(91136)]).then(n.bind(n,591136)).then(e=>({default:e.PlanCardsSection})),{loadableGenerated:{webpack:()=>[591136]}}),y=d()(()=>Promise.all([n.e(61282),n.e(49369)]).then(n.bind(n,49369)).then(e=>({default:e.DiscountPlans})),{loadableGenerated:{webpack:()=>[49369]}}),v=d()(()=>Promise.all([n.e(34614),n.e(28787)]).then(n.bind(n,328318)).then(e=>({default:e.ChecklistSection})),{loadableGenerated:{webpack:()=>[328318]}}),w=d()(()=>Promise.all([n.e(15775),n.e(95144)]).then(n.bind(n,162844)).then(e=>({default:e.FeaturesSection})),{loadableGenerated:{webpack:()=>[162844]}}),k=d()(()=>Promise.all([n.e(19954),n.e(48506)]).then(n.bind(n,448506)).then(e=>({default:e.Footer})),{loadableGenerated:{webpack:()=>[448506]}}),P=d()(()=>Promise.all([n.e(39038),n.e(14865)]).then(n.bind(n,614865)).then(e=>({default:e.CompactFooter})),{loadableGenerated:{webpack:()=>[614865]}}),C=e=>{let{analytics_data:t,trialInfo:n,options:o,isInSubscriptionPreview:l,planTypes:i,experiments:s,shouldShowTaxQualifier:c,hostname:u,shouldShowVerifiedDiscounts:d,verifiedPromotionDiscount:g}=e,{origin:C}=t,{trialLength:S}=n||{},E=o.find(e=>!0===e.allAccess),{track:N,logError:A,t:O}=(0,h.l)(),{getLanguage:T}=(0,p.D)(),G=T(),R=G===G.enUS?"imperial":"metric",L=(0,a.useMemo)(()=>(e,t)=>O("".concat(f.Vo,".").concat(e),{...t}),[O]),V=(0,a.useMemo)(()=>({track:N,t:L,logError:A,locale:G,state:{option:E,trialInfo:n,checkoutOrigin:C,isInSubscriptionPreview:l,shouldShowTaxQualifier:c,experiments:s,planTypes:i,hostname:u,shouldShowVerifiedDiscounts:d,verifiedPromotionDiscount:g}}),[N,L,A,G,E,n,C,l,c,s,i,u,d,g]);return(0,r.jsx)(x.y,{value:V,children:(0,r.jsx)(m.U6,{locale:G,unitSystem:R,children:(0,r.jsxs)("div",{className:_().preCheckout,children:[!!S&&(0,r.jsx)(b,{}),(0,r.jsx)(j,{}),d&&(0,r.jsx)(y,{}),(0,r.jsx)(w,{}),(0,r.jsx)(v,{}),(0,r.jsx)(k,{}),(0,r.jsx)(P,{})]})})})};var S=n(373801),E=n(477356),N=n.n(E);let A=d()(()=>Promise.all([n.e(56929),n.e(60919)]).then(n.bind(n,932723)).then(e=>({default:e.BannerSection})),{loadableGenerated:{webpack:()=>[932723]}}),O=d()(()=>Promise.all([n.e(36294),n.e(11053),n.e(64995),n.e(13867),n.e(87899)]).then(n.bind(n,687899)).then(e=>({default:e.PlanCardsSectionV2})),{loadableGenerated:{webpack:()=>[687899]}}),T=d()(()=>Promise.all([n.e(61282),n.e(49369)]).then(n.bind(n,49369)).then(e=>({default:e.DiscountPlans})),{loadableGenerated:{webpack:()=>[49369]}}),G=d()(()=>Promise.all([n.e(98317),n.e(49243)]).then(n.bind(n,349243)).then(e=>({default:e.ChecklistSectionV2})),{loadableGenerated:{webpack:()=>[349243]}}),R=d()(()=>Promise.all([n.e(10844),n.e(32124)]).then(n.bind(n,189388)).then(e=>({default:e.FeaturesSectionV2})),{loadableGenerated:{webpack:()=>[189388]}}),L=d()(()=>Promise.all([n.e(98997),n.e(52288)]).then(n.bind(n,52288)).then(e=>({default:e.FooterV2})),{loadableGenerated:{webpack:()=>[52288]}}),V=e=>{let{analytics_data:t,trialInfo:n,options:o,isInSubscriptionPreview:l,planTypes:i,experiments:s,shouldShowTaxQualifier:c,hostname:u,shouldShowVerifiedDiscounts:d,verifiedPromotionDiscount:f}=e,{origin:g}=t,_=o.find(e=>!0===e.allAccess),{track:b,logError:j,t:y}=(0,h.l)(),{getLanguage:v}=(0,p.D)(),w=v(),k=w===w.enUS?"imperial":"metric",P=(0,a.useMemo)(()=>(e,t)=>y("".concat(S.Vo,".").concat(e),{...t}),[y]),C=(0,a.useMemo)(()=>({track:b,t:P,logError:j,locale:w,state:{option:_,trialInfo:n,checkoutOrigin:g,isInSubscriptionPreview:l,shouldShowTaxQualifier:c,experiments:s,planTypes:i,hostname:u,shouldShowVerifiedDiscounts:d,verifiedPromotionDiscount:f}}),[b,P,j,w,_,n,g,l,c,s,i,u,d,f]);return(0,r.jsx)(x.y,{value:C,children:(0,r.jsx)(m.U6,{locale:w,unitSystem:k,children:(0,r.jsxs)("div",{className:N().preCheckout,children:[(0,r.jsx)(A,{}),(0,r.jsx)(O,{}),d&&(0,r.jsx)(T,{}),(0,r.jsx)(R,{}),(0,r.jsx)(G,{}),(0,r.jsx)(L,{})]})})})};var D=n(623113),M=n(308367),F=!0,I=e=>{let{url:t,error:n,...u}=e,{currentAthlete:d}=(0,M.DD)(),{t:p,track:m}=(0,h.l)(),{getExperiment:f}=(0,l.S)(),x=f("sub-web-subscribe-104");return((0,a.useEffect)(()=>{m({category:"summit_upsell",page:"checkout",action:"screen_enter",properties:{...u.analyticsData}})},[m,u.analyticsData]),n||(0,o.Z)(u))?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.e2,{variant:"simpleFixed"}),(0,r.jsx)(i.m,{statusCode:n.statusCode,t:p}),";",(0,r.jsx)(s.T,{currentAthlete:d})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D.Z,{url:t,children:(0,r.jsx)("title",{children:p("precheckout.page_title")})}),(0,r.jsx)(c.e2,{variant:"simpleFixed"}),"variant-a"===x.cohort?(0,r.jsx)(V,{...u}):(0,r.jsx)(C,{...u})]})}},483370:function(e,t,n){"use strict";n.d(t,{HT:function(){return a},Vo:function(){return r},hW:function(){return l},mA:function(){return o}});let r="precheckout",a="/subscribe/checkout",o="/student/verify",l={TEACHER:"/teacher/verify",HEALTHCARE:"/healthcare/verify",MILITARY:"/military/verify"}},373801:function(e,t,n){"use strict";n.d(t,{Vo:function(){return r},dA:function(){return l},gz:function(){return o},vp:function(){return a}});let r="precheckout",a="default",o="student",l="family"},849174:function(e,t,n){"use strict";n.d(t,{s:function(){return l},y:function(){return i}});var r=n(785893),a=n(667294);let o=(0,a.createContext)(void 0);o.displayName="PrecheckoutContext";let l=()=>{let e=(0,a.useContext)(o);if(!e)throw Error("usePrecheckoutContext must be used within the PrecheckoutContext.Provider");return e},i=e=>(0,r.jsx)(o.Provider,{...e})},282895:function(e,t,n){"use strict";n.d(t,{l:function(){return l}});var r=n(693197),a=n(799022),o=n(503753);let l=()=>{let{t:e,getLanguage:t}=(0,r.D)(),{logError:n,logMessage:l}=(0,a.D)(),{track:i}=(0,o.O)();return{t:e,logError:n,logMessage:l,track:i,locale:t()}}},808558:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},h:function(){return i}});var r,a,o=n(430810),l=n(771778);let i=e=>{let t=(0,l.N0)(e);return{"@context":"https://schema.org","@type":"Organization",name:"Strava",url:t,logo:"".concat(t,"/frontend/assets/landing-pages/images/strava-orange.svg"),sameAs:["https://facebook.com/Strava","https://twitter.com/strava","https://instagram.com/strava","https://youtube.com/stravainc","https://www.linkedin.com/company/strava-inc./","https://stories.strava.com","https://github.com/strava","https://medium.com/strava-engineering"]}};(r=a||(a={})).Staging="staging",r.Production="production";let s=function(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=arguments.length>3?arguments[3]:void 0,a=(0,o.YJ)(t)?"staging":"production",[i="",s]=e.split("?"),c=r&&r[a][i]||i;return"".concat((0,l.N0)(t)).concat(c).concat(n&&s?"?".concat(s):"")}},197339:function(e,t,n){"use strict";n.d(t,{m:function(){return f}});var r=n(785893);n(667294);var a=n(809008),o=n.n(a),l=n(811607),i=n(213980),s=n.n(i),c=n(744794),u=n.n(c);let d=e=>{let{t}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"".concat(t("errors.default.title")," | Strava")}),(0,r.jsx)("meta",{name:"robots",content:"noindex"})]}),(0,r.jsx)("h1",{children:t("errors.default.title")}),(0,r.jsx)(l.Lu,{tagName:"p",content:t("errors.default.cta_html")})]})};d.propTypes={t:s().func.isRequired};let p=e=>{let{t}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"".concat(t("errors.not_authorized.title")," | Strava")}),(0,r.jsx)("meta",{name:"robots",content:"noindex"})]}),(0,r.jsx)("h1",{children:t("errors.not_authorized.title")}),(0,r.jsx)(l.Lu,{tagName:"p",content:t("errors.default.cta_html")})]})};p.propTypes={t:s().func.isRequired};let h=e=>{let{t}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"".concat(t("errors.not_found.title")," | Strava")}),(0,r.jsx)("meta",{name:"robots",content:"noindex"})]}),(0,r.jsx)("h1",{children:t("errors.not_found.title")}),(0,r.jsx)("p",{children:t("errors.not_found.cta")}),(0,r.jsxs)("ul",{className:u().options,children:[(0,r.jsx)("li",{children:t("errors.not_found.option_1")}),(0,r.jsx)(l.Lu,{tagName:"li",content:t("errors.not_found.option_2_html")}),(0,r.jsx)(l.Lu,{tagName:"li",content:t("errors.not_found.option_3_html")}),(0,r.jsx)(l.Lu,{tagName:"li",content:t("errors.not_found.option_4_html")}),(0,r.jsx)(l.Lu,{tagName:"li",content:t("errors.not_found.option_5_html")})]})]})};h.propTypes={t:s().func.isRequired};let m=e=>{let{statusCode:t,t:n}=e;switch(t){case 403:return(0,r.jsx)(p,{t:n});case 404:return(0,r.jsx)(h,{t:n});default:return(0,r.jsx)(d,{t:n})}};m.propTypes={t:s().func.isRequired,statusCode:s().number};let f=e=>{let{statusCode:t,t:n}=e;return(0,r.jsx)("div",{className:u().page,"data-cy":"error-page",children:(0,r.jsx)("main",{className:u().main,children:(0,r.jsx)("div",{className:"".concat(u().flexRow," ").concat(u().content),children:(0,r.jsx)("div",{className:u().message,children:(0,r.jsx)(m,{statusCode:t,t:n})})})})})};f.propTypes={t:s().func.isRequired,statusCode:s().number}},623113:function(e,t,n){"use strict";var r=n(785893),a=n(667294),o=n(809008),l=n.n(o),i=n(304298),s=n.n(i),c=n(14304),u=n(213980),d=n.n(u),p=n(615750),h=n(693197),m=n(808558);let f=e=>{var t;let{url:n,title:o,description:i,ogImage:u,canonicalUrl:d,showAppleSmartbanner:f=!0,includeOrganizationSchema:x=!1,alIosUrl:g,alIosAppName:_,alIosAppStoreId:b,alAndroidUrl:j,alAndroidAppName:y,alAndroidPackage:v,children:w,noIndex:k=!1}=e,{t:P}=(0,h.D)(),[C,S]=n.split("?"),E="www.strava.com",N="https://".concat(E).concat(C),A=new URLSearchParams(S),O=d||N;if(A.has("hl")){let e=A.get("hl");(p.XG[e]||Object.values(p.MV).includes(e))&&(O+="?hl=".concat(e))}let T=(0,a.useMemo)(()=>({title:P("generic.head.title"),description:P("generic.head.description")}),[P]),G=[(0,r.jsx)("link",{rel:"alternate",href:N,hrefLang:"x-default"},"x-default"),(0,r.jsx)("link",{rel:"alternate",href:N,hrefLang:"en"},"en"),(0,r.jsx)("link",{rel:"alternate",href:"".concat(N,"?hl=").concat(p.MV.enGB),hrefLang:p.MV.enGB},p.MV.enGB)];return Object.keys(p.XG).forEach(e=>{let t=p.XG[e];G.push((0,r.jsx)("link",{rel:"alternate",href:"".concat(N,"?hl=").concat(t[0]),hrefLang:e},e)),t.length>1&&t.forEach(e=>{G.push((0,r.jsx)("link",{rel:"alternate",href:"".concat(N,"?hl=").concat(e),hrefLang:e},e))})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:o||T.title}),(0,r.jsx)("link",{rel:"canonical",href:O}),G,(0,r.jsx)("meta",{name:"title",content:o||T.title}),(0,r.jsx)("meta",{name:"description",content:i||T.description}),(0,r.jsx)("meta",{name:"application-name",content:"Strava"}),(0,r.jsx)("meta",{property:"og:site_name",content:"Strava"}),(0,r.jsx)("meta",{property:"og:url",content:N}),(0,r.jsx)("meta",{property:"og:title",content:o||T.title}),(0,r.jsx)("meta",{property:"og:description",content:i||T.description}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),u&&(0,r.jsxs)(r.Fragment,{children:[u.url&&(0,r.jsx)("meta",{property:"og:image",content:u.url}),u.width&&(0,r.jsx)("meta",{property:"og:image:width",content:u.width}),u.height&&(0,r.jsx)("meta",{property:"og:image:height",content:u.height}),(0,r.jsx)("meta",{property:"og:image:type",content:null!==(t=u.type)&&void 0!==t?t:"image/png"})]}),(0,r.jsx)("meta",{name:"twitter:title",content:o}),(0,r.jsx)("meta",{name:"twitter:description",content:i}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary"}),(0,r.jsx)("meta",{name:"twitter:site",content:"@Strava"}),(null==u?void 0:u.url)&&(0,r.jsx)("meta",{property:"twitter:image",content:u.url}),(0,r.jsx)("meta",{name:"mobile-web-app-capable",content:"yes"}),f&&(0,r.jsx)("meta",{name:"apple-itunes-app",content:"app-id=426826309"}),g&&(0,r.jsx)("meta",{property:"al:ios:url",content:g}),_&&(0,r.jsx)("meta",{property:"al:ios:app_name",content:_}),b&&(0,r.jsx)("meta",{property:"al:ios:app_store_id",content:b}),j&&(0,r.jsx)("meta",{property:"al:android:url",content:j}),y&&(0,r.jsx)("meta",{property:"al:android:app_name",content:y}),v&&(0,r.jsx)("meta",{property:"al:android:package",content:v}),k&&(0,r.jsx)("meta",{name:"robots",content:"noindex"}),w]}),x&&(0,r.jsx)(s(),{strategy:"beforeInteractive","data-testid":"organization-schema",type:"application/ld+json",children:(0,c.sanitize)(JSON.stringify((0,m.h)(E)))})]})};f.propTypes={url:d().string.isRequired,title:d().string,description:d().string,canonicalUrl:d().string,ogImage:d().shape({url:d().string,height:d().number,width:d().number,type:d().string}),alIosUrl:d().string,alIosAppName:d().string,alIosAppStoreId:d().string,alAndroidUrl:d().string,alAndroidAppName:d().string,alAndroidPackage:d().string,showAppleSmartbanner:d().bool,includeOrganizationSchema:d().bool,children:d().node,noIndex:d().bool},t.Z=f},479061:function(e){e.exports={preCheckout:"Precheckout_preCheckout__vXt51"}},477356:function(e){e.exports={preCheckout:"PrecheckoutV2_preCheckout__zOe2C"}},744794:function(e){e.exports={page:"ErrorPage_page__Vl3cK",main:"ErrorPage_main__wcAEg",content:"ErrorPage_content__aJjtx",flexRow:"ErrorPage_flexRow__ux2bm",message:"ErrorPage_message__5Reyb",options:"ErrorPage_options__Sa0Hp"}},505152:function(e,t,n){e.exports=n(782322)}},function(e){e.O(0,[16871,66189,32602,89507,92888,49774,40179],function(){return e(e.s=552216)}),_N_E=e.O()}]);