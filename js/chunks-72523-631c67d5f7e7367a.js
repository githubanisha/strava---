(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72523],{637540:function(e,t,n){"use strict";n.d(t,{Ik:function(){return r},Ix:function(){return a},Om:function(){return i},nS:function(){return o}});let r={runDefault:0,runRace:1,runLong:2,runInterval:3,rideDefault:10,rideRace:11,rideInterval:12},a={cyclist:0,runner:1},o={ride:1,run:2,walk:3,hike:4,trailRun:5,gravelRide:6,mountainBikeRide:7,eMountainBikeRide:8,eBikeRide:9,swim:10,kayak:11,golf:12,sail:13,canoe:14,alpineSki:15,backcountrySki:16,iceSkate:17,inlineSkate:18,handcycle:19,kitesurf:20,nordicSki:21,rockClimbing:22,rollerSki:23,rowing:24,skateboard:25,snowshoe:26,standUpPaddle:27,surfing:28,velomobile:29,windsurf:30,wheelchair:31},i={paved:1,unpaved:2,unknown:3}},783251:function(e,t,n){"use strict";n.d(t,{yb:function(){return v},Ms:function(){return N},rw:function(){return i},mh:function(){return Y},MK:function(){return a},LK:function(){return o},D5:function(){return er},X_:function(){return p},Jx:function(){return ei},nz:function(){return ep},aH:function(){return ey},GI:function(){return eR},nS:function(){return ew},Hw:function(){return eg},HC:function(){return eb},Wk:function(){return e3},yt:function(){return e6},_z:function(){return A},C8:function(){return $},MB:function(){return k},nL:function(){return W},Gp:function(){return z},Y5:function(){return P},Sx:function(){return d},nO:function(){return y},Ff:function(){return V}});let r="".concat("","/tiles/pois/default-poi-style.json"),a={standard:"".concat(r,"?style=standard"),satellite:"".concat(r,"?style=satellite"),hybrid:"".concat(r,"?style=hybrid"),dark:"".concat(r,"?style=dark-standard"),winter:"".concat(r,"?style=winter"),light:"".concat(r,"?style=light")},o=Object.keys(a),i="layer-to-draw-on";var l=n(785893),u=n(667294),c=n(973935);let s=(0,u.createContext)({map:null}),d=()=>{let e=(0,u.useContext)(s);if(!e)throw Error("useMap must be used within the MapContext.Provider");return e.map},f=e=>{let{control:t,position:n}=e,r=d(),a=(0,u.useMemo)(()=>t,[]);return(0,u.useEffect)(()=>((null==r?void 0:r.hasControl(a))||null==r||r.addControl(a,n),()=>{(null==r?void 0:r.hasControl(a))&&(null==r||r.removeControl(a))}),[r,a,n]),a};class g{getContainer(){return this.container}onAdd(){return this.container}onRemove(){this.container.remove()}constructor(){this.container=document.createElement("div"),this.container.classList.add("mapboxgl-ctrl"),this.container.classList.add("mapboxgl-ctrl-group")}}let p=e=>{let{children:t,position:n}=e,r=f({control:new g,position:n});return(0,l.jsx)(l.Fragment,{children:(0,c.createPortal)(t,r.getContainer())})};var m=n(797944);let y=()=>{var e,t,n,r,a,o;let i=d(),l=(0,u.useRef)(null!==(a=null==i?void 0:null===(t=i.style)||void 0===t?void 0:null===(e=t.stylesheet)||void 0===e?void 0:e.name)&&void 0!==a?a:null),[c,s]=(0,u.useState)(null!==(o=null==i?void 0:null===(r=i.style)||void 0===r?void 0:null===(n=r.stylesheet)||void 0===n?void 0:n.name)&&void 0!==o?o:null);return(0,u.useEffect)(()=>{let e=e=>{var t,n,r;let a=null!==(r=null==e?void 0:null===(n=e.style)||void 0===n?void 0:null===(t=n.stylesheet)||void 0===t?void 0:t.name)&&void 0!==r?r:null;l.current!==a&&(l.current=a,s(l.current))};return null==i||i.on("styledata",e),()=>{null==i||i.off("styledata",e)}},[i]),c},v=e=>{let{color:t=m.i4,range:n=[4,18],horizonBlend:r=.5,highColor:a="#87ceeb",spaceColor:o="#d8f2ff",starIntensity:i=0}=e,l=d(),c=y();return(0,u.useEffect)(()=>{var e;(null==l?void 0:null===(e=l.style)||void 0===e?void 0:e._loaded)&&(null==l||l.setFog({color:t,range:n,"horizon-blend":r,"high-color":a,"space-color":o,"star-intensity":i}))},[l,c,t,n,r,a,o,i]),(0,u.useEffect)(()=>()=>{l&&l.style&&l.setFog(null)},[]),null},h=(e,t)=>({type:"Feature",properties:{},center:[e,t],geometry:{type:"Point",coordinates:[e,t]},text:"Lat: ".concat(t," Lng: ").concat(e),place_name:"Lat: ".concat(t," Lng: ").concat(e),place_type:["coordinate"]}),S=e=>{let t=k(e);if(!t)return[];let n=Number(t[1]),r=Number(t[2]),a=[];return(n<-90||n>90)&&a.push(h(n,r)),(r<-90||r>90)&&a.push(h(r,n)),0===a.length&&(a.push(h(n,r)),a.push(h(r,n))),a},k=e=>null==e?void 0:e.match(/^[ ]*(?:Lat: ?)?(-?\d+\.?\d*)[, ]+(?:Lng: ?)?(-?\d+\.?\d*)[ ]*$/i),R=e=>{let t=k(e);if(t){let e=t[1],n=t[2];return"Lat: ".concat(e,", Lng: ").concat(n)}return e};var w=n(840489),L=n(230517),b=n.n(L),x=n(436591),C=n.n(x),_=n(834406);let M=e=>{if(e)return e;try{var t,n;return null!==(n=null==_?void 0:null===(t=_.env)||void 0===t?void 0:"pk.eyJ1Ijoic3RyYXZhIiwiYSI6ImNtMWp3M2UyZDAydzIyam9zaTh6OTNiZm0ifQ.AOpRu_eeNKWg6r-4GS52Kw")&&void 0!==n?n:null}catch(e){}return null},E=e=>{let t=RegExp("(.*)-").exec(e);switch(e){case"zh":case"zh-CN":return"zh-Hans";case"zh-TW":return"zh-Hant-TW";default:if(t)return t[1];return e}},B=e=>new Set(e?e.trim().split(/\s+/):[]),P=e=>e&&0!==e.length?Array.isArray(e[0])?e.map(e=>[e[1],e[0]]):[e[1],e[0]]:[],W=(e,t)=>{let n=t.getNorthEast(),r=t.getSouthWest(),a=(e.lng-n.lng)*(e.lng-r.lng)<0,o=(e.lat-n.lat)*(e.lat-r.lat)<0;return a&&o},j=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r={lng:e[0],lat:e[1]},a=t/(111.32*Math.cos(r.lat*Math.PI/180)),o=t/110.574,i=[];for(let e=0;e<n;e++){let t=e/n*(2*Math.PI),l=a*Math.cos(t),u=o*Math.sin(t);i.push([r.lng+l,r.lat+u])}return i[0]&&i.push(i[0]),i},A=(e,t)=>e.getLayer(t)?t:void 0,T=(e,t,n)=>{let r=e.getSource(t);if(!r)return;let a=()=>{let{tiles:o}=r=e.getSource(t);if(o){e.off("styledata",a);let r=o.map(e=>{let[t]=e.split("?");return"".concat(t).concat(n)});e.getSource(t).tiles=r,e.style._sourceCaches["other:".concat(t)].clearTiles(),e.style._sourceCaches["other:".concat(t)].update(e.transform),e.style._sourceCaches["symbol:".concat(t)].clearTiles(),e.style._sourceCaches["symbol:".concat(t)].update(e.transform)}};(null==r?void 0:r.tiles)?a():e.on("styledata",a)},I=e=>{switch(e){case"Ride":return 1;case"Run":return 2;case"Walk":return 3;case"Hike":return 4;case"TrailRun":return 5;case"GravelRide":return 6;case"MountainBikeRide":return 7;case"Swim":return 10;default:return console.warn('Route type "'.concat(e,'" is not supported as POI on the map')),null}},z=e=>["standard","winter","light"].includes(e);n(411310);var F=n(431398),O=n.n(F);let G=1,N=(0,u.forwardRef)((e,t)=>{let{apiToken:n,mapboxRef:r,id:a,className:o,options:i,...c}=e,s=(0,u.useRef)(e);s.current=e;let d=(0,u.useMemo)(()=>a||"geocoder-".concat(G++),[a]),f=(0,u.useMemo)(()=>new(C())({accessToken:M(n),mapboxgl:b(),flyTo:{animate:!1},marker:!1,reverseGeocode:!0,localGeocoder:S,...c,...i}),[]);return(0,u.useImperativeHandle)(t,()=>f,[f]),(0,u.useEffect)(()=>{var e,t;let n=()=>{var e,t;null===(t=s.current)||void 0===t||null===(e=t.onClear)||void 0===e||e.call(t)};f.on("clear",n);let a=e=>{var t,n;null===(n=s.current)||void 0===n||null===(t=n.onLoading)||void 0===t||t.call(n,e)};f.on("loading",a);let o=e=>{var t,n;null===(n=s.current)||void 0===n||null===(t=n.onResults)||void 0===t||t.call(n,e)};f.on("results",o);let i=e=>{var t,n;let{result:r}=e;null===(n=s.current)||void 0===n||null===(t=n.onResult)||void 0===t||t.call(n,{result:{...r,place_name:R(r.place_name)}})};f.on("result",i);let l=e=>{var t,n;null===(n=s.current)||void 0===n||null===(t=n.onError)||void 0===t||t.call(n,e)};return f.on("error",l),null===(t=document)||void 0===t||null===(e=t.getElementById(d))||void 0===e||e.appendChild(f.onAdd(r)),()=>{f.off("clear",n),f.off("loading",a),f.off("results",o),f.off("result",i),f.off("error",l),f.onRemove()}},[r,f,d]),void 0!==e.proximity&&e.proximity!==f.getProximity()&&f.setProximity(e.proximity),void 0!==e.render&&e.render!==f.getRenderFunction()&&f.setRenderFunction(e.render),void 0!==e.language&&e.language!==f.getLanguage()&&f.setLanguage(e.language),void 0!==e.zoom&&e.zoom!==f.getZoom()&&f.setZoom(e.zoom),void 0!==e.flyTo&&e.flyTo!==f.getFlyTo()&&f.setFlyTo(e.flyTo),void 0!==e.placeholder&&e.placeholder!==f.getPlaceholder()&&(f.setPlaceholder(e.placeholder),f.options.placeholder=e.placeholder),void 0!==e.bbox&&e.bbox!==f.getBbox()&&f.setBbox(e.bbox),void 0!==e.countries&&e.countries!==f.getCountries()&&f.setCountries(e.countries),void 0!==e.types&&e.types!==f.getTypes()&&f.setTypes(e.types),void 0!==e.minLength&&e.minLength!==f.getMinLength()&&f.setMinLength(e.minLength),void 0!==e.limit&&e.limit!==f.getLimit()&&f.setLimit(e.limit),void 0!==e.filter&&e.filter!==f.getFilter()&&f.setFilter(e.filter),void 0!==e.origin&&e.origin!==f.getOrigin()&&f.setOrigin(e.origin),e.autocomplete&&e.autocomplete!==f.getAutocomplete()&&f.setAutocomplete(e.autocomplete),void 0!==e.fuzzyMatch&&e.fuzzyMatch!==f.getFuzzyMatch()&&f.setFuzzyMatch(e.fuzzyMatch),void 0!==e.routing&&e.routing!==f.getRouting()&&f.setRouting(e.routing),void 0!==e.worldview&&e.worldview!==f.getWorldview()&&f.setWorldview(e.worldview),(0,l.jsx)("div",{id:d,className:(0,w.W)(O().geocoder,o)})});var Z=n(201555);let H=(e,t,n,r)=>{if(n!==r){for(let a in n)(0,Z.Z)(n[a],null==r?void 0:r[a])||e.setLayoutProperty(t,a,n[a]);for(let a in r)n&&!Object.prototype.hasOwnProperty.call(n,a)&&e.setLayoutProperty(t,a,null)}},D=(e,t,n,r)=>{if(n!==r){for(let a in n)(0,Z.Z)(n[a],null==r?void 0:r[a])||e.setPaintProperty(t,a,n[a]);for(let a in r)n&&!Object.prototype.hasOwnProperty.call(n,a)&&e.setPaintProperty(t,a,null)}},U=(e,t,n,r)=>{(0,Z.Z)(n,r)||e.setFilter(t,n)},K=(e,t,n,r)=>{n!==r&&e.getLayer(t)&&e.moveLayer(t,n)},V=()=>{let e=d(),[,t]=(0,u.useState)({});return(0,u.useEffect)(()=>{let n=()=>t({});return null==e||e.on("style.load",n),()=>{null==e||e.off("style.load",n)}},[e]),null},Y=e=>{var t;let n=e.id,r=(0,u.useRef)(e),a=d();if(V(),(0,u.useEffect)(()=>()=>{a&&a.style&&a.getLayer(n)&&a.removeLayer(n)},[a,n]),!a||!(null===(t=a.style)||void 0===t?void 0:t._loaded)||e.source&&!a.getSource(e.source))return null;if(!a.getLayer(n)){let{beforeId:t,...r}=e;return a.addLayer({...r,id:n},t),null}return e.type!==r.current.type&&console.error("Changing layer `type` after layer is added is not supported"),H(a,n,e.layout,r.current.layout),D(a,n,e.paint,r.current.paint),U(a,n,e.filter,r.current.filter),K(a,n,e.beforeId,r.current.beforeId),r.current=e,null};var J=n(380001),Q=n.n(J),X=n(330450);let $=e=>{let t=P(e),n=new(b()).LngLatBounds;return t.map(e=>{let t=new(b()).LngLat(e[0],e[1]);return n.extend(t)}),n},q=e=>{let{measurementUnits:t="metric",poiTypes:n=["static"],routeType:r=null,includeRouteCount:a=!1,visible:o=!1,categoryFilter:i=[]}=e,l=d(),c=y(),s="pois",f="pois",g=o?"visible":"none",p=n?"".concat(n.join(",")):null,m="string"==typeof r?I(r):r;return(0,u.useEffect)(()=>{if((null==l?void 0:l.getSource(s))&&o){let e=new URLSearchParams({include_route_count:a.toString()});m&&e.append("route_type",m.toString()),p&&e.append("poi_category_groups",p),i.length&&l.setFilter(f,["!",["in",["get","category"],["literal",i]]]),T(l,s,"?".concat(e.toString()))}},[l,c,o,m,a,p]),(0,u.useEffect)(()=>{if(null==l?void 0:l.getLayer(f)){let e=l.getLayoutProperty(f,"text-field"),n=e.findIndex(e=>"peak"===e.toString());-1!==n&&(e[n+1]=["case",["has","elevation_ft"],["case",["!=",["get","elevation_ft"],0],["concat",["to-string",["round",["*",["get","elevation_ft"],"imperial"===t?1:.3048]]],"imperial"===t?"ft\n":"m\n",["get","title"]],""],["get","title"]],l.setLayoutProperty(f,"text-field",e))}},[l,c,t]),(0,u.useEffect)(()=>((null==l?void 0:l.getLayer(f))&&l.setLayoutProperty(f,"visibility",g),()=>{l&&l.style&&l.getLayer(f)&&l.setLayoutProperty(f,"visibility","none")}),[l,c,g]),null};n(15468);var ee=n(495056),et=n.n(ee);let en=()=>(0,l.jsx)("div",{className:et().notSupported,children:(0,l.jsx)("p",{children:"Browser does not support Mapbox GL"})}),er=e=>{let{APIToken:t,latLng:n,options:r,children:o,className:i,controlPlacement:c="top-left",zoomControl:d=!0,geolocateControl:f=!1,compassControl:g=!1,shouldCenterOnGeolocate:p=!1,language:m,mapboxRef:y,onNotSupported:v,notSupportedFallbackElement:h=(0,l.jsx)(en,{}),measurementUnits:S="metric",poiOptions:k,hideControls:R=!1}=e,[L,x]=(0,u.useState)(!0),[C,_]=(0,u.useState)(null),B=(0,u.useRef)(null),P=(0,u.useRef)(null);return(0,u.useEffect)(()=>{P.current&&P.current.setUnit(S)},[S]),(0,u.useEffect)(()=>{var e;C&&(null===(e=C.style)||void 0===e?void 0:e._loaded)&&C.getStyle()!==(null==r?void 0:r.style)&&(null==r?void 0:r.style)!==void 0&&C.setStyle(r.style)},[null==r?void 0:r.style]),(0,u.useEffect)(()=>{if(!(0,X.Z)()){if(v){let e=(0,X.j)();v("Mapbox GL is not supported: ".concat(e))}x(!1);return}let e=M(t);e&&(b().accessToken=e),"unavailable"===b().getRTLTextPluginStatus()&&b().setRTLTextPlugin("https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js",null,!0);let o=new(b()).Map({container:B.current,style:a.standard,maxZoom:21,fitBoundsOptions:{padding:24},pitchWithRotate:!1,dragRotate:!1,renderWorldCopies:!1,performanceMetricsCollection:!1,...n&&n.length>0&&{bounds:$(n)},...r}),i=null;if(f&&(i=new(b()).GeolocateControl({positionOptions:{enableHighAccuracy:!0},fitBoundsOptions:{maxZoom:13},showUserLocation:!0,showAccuracyCircle:!0}),o.addControl(i,c)),P.current=new(b()).ScaleControl({maxWidth:100,unit:S}),o.addControl(P.current),R||o.addControl(new(b()).NavigationControl({showCompass:g,showZoom:d}),c),m){let e={defaultLanguage:E(m),supportedLanguages:["en","de","es","fr","it","ja","nl","pt","ru","zh","zh-Hans","zh-Hant-TW"]},t=new(Q())({...e,languageSource:"pois"}),n=new(Q())({...e,languageSource:"composite"});o.addControl(t),o.addControl(n)}return o.on("load",()=>{_(o),null==y||y(o),i&&p&&i.trigger()}),()=>{o.remove()}},[]),(0,l.jsxs)("div",{ref:B,className:(0,w.W)(et().container,i),children:[C&&(0,l.jsxs)(s.Provider,{value:{map:C},children:[(0,l.jsx)(q,{measurementUnits:S,...k}),o]}),!L&&h]})};var ea=n(904280),eo=n.n(ea);let ei=(0,u.forwardRef)((e,t)=>{let{className:n,latLng:r,children:a,...o}=e,i=d(),s=(0,u.useRef)(e),f=(0,u.useRef)(),g=(0,u.useMemo)(()=>{let e=u.Children.toArray(a).length>0,t=new(b()).Marker({color:m.uB,...o,element:e?document.createElement("div"):void 0});return t.setLngLat([r[1],r[0]]),t},[]);if((0,u.useImperativeHandle)(t,()=>g,[g]),(0,u.useEffect)(()=>{let e=e=>{var t,n;e.lngLat=e.target.getLngLat(),null===(t=(n=s.current).onDragStart)||void 0===t||t.call(n,e)},t=e=>{var t,n;e.lngLat=e.target.getLngLat(),null===(t=(n=s.current).onDrag)||void 0===t||t.call(n,e)},n=e=>{var t,n;e.lngLat=e.target.getLngLat(),null===(t=(n=s.current).onDragEnd)||void 0===t||t.call(n,e)};return g.on("dragstart",e),g.on("drag",t),g.on("dragend",n),i&&g.addTo(i),()=>{g.off("dragstart",e),g.off("drag",t),g.off("dragend",n),g.remove()}},[]),f.current!==n){let e=B(f.current),t=B(n);e.forEach(e=>{t.has(e)||g.getElement().classList.remove(e)}),t.forEach(t=>{e.has(t)||g.getElement().classList.add(t)}),f.current=n}let[p,y]=s.current.latLng,[v,h]=r;return(p!==v||y!==h)&&g.setLngLat([h,v]),void 0===o.offset||(0,Z.Z)(g.getOffset(),eo().convert(o.offset))||g.setOffset(o.offset),void 0!==o.draggable&&g.isDraggable()!==o.draggable&&g.setDraggable(o.draggable),void 0!==o.rotation&&g.getRotation()!==o.rotation&&g.setRotation(o.rotation),void 0!==o.rotationAlignment&&g.getRotationAlignment()!==o.rotationAlignment&&g.setRotationAlignment(o.rotationAlignment),void 0!==o.pitchAlignment&&g.getPitchAlignment()!==o.pitchAlignment&&g.setPitchAlignment(o.pitchAlignment),void 0!==o.occludedOpacity&&g.getOccludedOpacity()!==o.occludedOpacity&&g.setOccludedOpacity(o.occludedOpacity),s.current=e,(0,l.jsx)(l.Fragment,{children:(0,c.createPortal)(a,g.getElement())})}),el=(e,t,n)=>{t&&!(0,Z.Z)(t,n)&&e.setData(t)},eu=(e,t,n)=>{(t.url||t.coordinates)&&(!(0,Z.Z)(t.url,n.url)||!(0,Z.Z)(t.coordinates,n.coordinates))&&e.updateImage({url:t.url,coordinates:t.coordinates})},ec=(e,t,n)=>{t&&!(0,Z.Z)(t,n)&&e.setTiles(t)},es=(e,t,n)=>{t&&!(0,Z.Z)(t,n)&&e.setUrl(t)},ed=(e,t,n)=>{t&&!(0,Z.Z)(t,n)&&e.setCoordinates(t)},ef=e=>{let{id:t,onLoadStart:n,onLoadFinish:r}=e,a=d(),o=(0,u.useRef)(null),i=(0,u.useRef)(!1);(0,u.useEffect)(()=>{let e=()=>{null==a||a.off("sourcedataloading",l),null==a||a.off("idle",e),null!==o.current&&(clearTimeout(o.current),o.current=null),i.current=!0,null==r||r()},l=r=>{i.current||r.isSourceLoaded||r.sourceId!==t||(null!==o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{null==n||n()},600),null==a||a.on("idle",e))};return null==a||a.on("sourcedataloading",l),()=>{null!==o.current&&(clearTimeout(o.current),o.current=null),i.current=!1,null==a||a.off("sourcedataloading",l)}},[])},eg=e=>{var t,n,r;let{id:a,layers:o,onLoadStart:i,onLoadFinish:l,...c}=e,s=(0,u.useRef)(c),f=d();if(V(),ef({id:a,onLoadStart:i,onLoadFinish:l}),(0,u.useEffect)(()=>()=>{if(f&&f.style&&f.getSource(a)){var e,t;for(let n of null!==(t=null===(e=f.getStyle())||void 0===e?void 0:e.layers)&&void 0!==t?t:[])(null==n?void 0:n.source)===a&&f.removeLayer(n.id);f.removeSource(a)}},[f,a]),!f||!(null===(t=f.style)||void 0===t?void 0:t._loaded))return null;if(!(null==f?void 0:f.getSource(a)))return null==f||f.addSource(a,c),null!==(n=null==o?void 0:o({sourceId:a}))&&void 0!==n?n:null;c.type!==s.current.type&&console.error("Changing source `type` after source is added is not supported");let g=null==f?void 0:f.getSource(a);return g&&"geojson"===c.type&&el(g,c.data,s.current.data),g&&("vector"===c.type||"raster"===c.type)&&(ec(g,c.tiles,s.current.tiles),es(g,c.url,s.current.url)),g&&"image"===c.type&&eu(g,c,s.current),g&&("canvas"===c.type||"image"===c.type||"video"===c.type)&&ed(g,c.coordinates,s.current.coordinates),s.current=c,null!==(r=null==o?void 0:o({sourceId:a}))&&void 0!==r?r:null},ep=e=>{let{id:t,lat:n,lng:r,radius:a,style:o}=e,i={fillColor:m.jz,fillOpacity:1,strokeColor:m.jz,strokeOpacity:1,strokeWeight:0,strokeOffset:0,...o},c=(0,u.useMemo)(()=>({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[j([r,n],a)]},properties:{lat:n,lng:r}}]}),[r,n,a]);return(0,l.jsx)(eg,{id:"".concat(t,"-source"),type:"geojson",data:c,layers:e=>{let{sourceId:n}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Y,{id:t,type:"fill",source:n,paint:{"fill-color":i.fillColor,"fill-opacity":i.fillOpacity}}),(0,l.jsx)(Y,{id:"".concat(t,"-outline"),type:"line",source:n,paint:{"line-color":i.strokeColor,"line-opacity":i.strokeOpacity,"line-width":i.strokeWeight,"line-offset":i.strokeOffset}})]})}})},em={lineColor:m.$L,lineWidth:3,outlineColor:m.i4,outlineWidth:5,opacity:1},ey=e=>{let{id:t,latLng:n,style:r,beforeId:a=i}=e,o=d(),c={...em,...r},s=(0,u.useMemo)(()=>({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:P(n)},properties:{id:t}}]}),[n]),f=o?A(o,a):void 0;return(0,l.jsx)(eg,{id:"".concat(t,"-source"),type:"geojson",data:s,layers:e=>{let{sourceId:n}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Y,{source:n,id:"".concat(t,"-outline"),type:"line",beforeId:f,layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":c.outlineWidth,"line-color":c.outlineColor,"line-color-transition":{duration:0},"line-opacity":c.opacity}}),(0,l.jsx)(Y,{source:n,id:t,type:"line",beforeId:f,layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":c.lineWidth,"line-color":c.lineColor,"line-color-transition":{duration:0},"line-opacity":c.opacity}})]})}})};var ev=n(898194),eh=n(816156),eS=n(720510),ek=n.n(eS);let eR=(0,u.forwardRef)((e,t)=>{let{className:n,latLng:r,children:a,closeOnOutsideClick:o=!1,autoPan:i=!1,autoPanPadding:s,...f}=e,g=d(),p=(0,u.useRef)(e),m=(0,u.useRef)(),y=(0,u.useMemo)(()=>document.createElement("div"),[]),v=(0,u.useMemo)(()=>{let e=new(b()).Popup({...f,anchor:i?"bottom":f.anchor,className:(0,w.W)(ek().popup,n),closeButton:!1});return e.setLngLat([r[1],r[0]]),e},[]);(0,u.useImperativeHandle)(t,()=>v,[v]);let h=()=>{var e,t,n,r,a,o;if(!g)return;let i={top:null!==(e=null==s?void 0:s.top)&&void 0!==e?e:32,bottom:null!==(t=null==s?void 0:s.bottom)&&void 0!==t?t:32,left:null!==(n=null==s?void 0:s.left)&&void 0!==n?n:32,right:null!==(r=null==s?void 0:s.right)&&void 0!==r?r:32},{left:l,right:u,top:c,bottom:d}=g.getContainer().getBoundingClientRect(),{left:f,right:p,top:m,bottom:y}=v.getElement().getBoundingClientRect(),h=f-l,S=p-u,k=m-c,R=y-d,w=h<0?h-i.left:void 0,L=S>0?S+i.right:void 0,b=k<c?k-i.top:void 0,x=R>0?R+i.bottom:void 0,C=null!==(a=null!=w?w:L)&&void 0!==a?a:0,_=null!==(o=null!=b?b:x)&&void 0!==o?o:0;(0!==C||0!==_)&&g.panBy([C,_],{essential:!0})};if((0,u.useEffect)(()=>{let e=e=>{var t,n;null===(t=(n=p.current).onOpen)||void 0===t||t.call(n,e)},t=e=>{var t,n;null===(t=(n=p.current).onClose)||void 0===t||t.call(n,e)};return v.on("open",e),v.on("close",t),v.setDOMContent(y),g&&(v.addTo(g),i&&h()),()=>{v.off("open",e),v.off("close",t),v.remove()}},[]),(0,u.useEffect)(()=>{let e=e=>{let t=e.target,n=v.getElement();!n||n.contains(t)||t.classList.contains("mapboxgl-canvas")||v.fire("close")},t=e=>{"Escape"===e.key&&v.fire("close")};return o&&(document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),document.addEventListener("keydown",t)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e),document.removeEventListener("keydown",t)}},[o]),m.current!==n){let e=B(m.current),t=B((0,w.W)(ek().popup,n));e.forEach(e=>{t.has(e)||v.removeClassName(e)}),t.forEach(t=>{e.has(t)||v.addClassName(t)}),m.current=n}let[S,k]=r;return(v.getLngLat().lat!==S||v.getLngLat().lng!==k)&&(v.setLngLat([r[1],r[0]]),i&&h()),void 0!==f.maxWidth&&v.getMaxWidth()!==f.maxWidth&&v.setMaxWidth(f.maxWidth),(0,Z.Z)(p.current.offset,f.offset)||v.setOffset(f.offset),p.current=e,(0,l.jsx)(l.Fragment,{children:(0,c.createPortal)((0,l.jsxs)(l.Fragment,{children:[f.closeButton&&(0,l.jsx)(eh.z,{type:"button",variant:"icon",className:ek().closeBtn,onClick:()=>v.remove(),children:(0,l.jsx)(ev.default,{height:9,width:9})}),a]}),y)})}),ew=e=>{let{id:t,tiles:n,tileSize:r=256,maxZoom:a=20,minZoom:o=0,opacity:u=1,beforeId:c=i,onLoadStart:s,onLoadFinish:d,...f}=e;return(0,l.jsx)(eg,{...f,id:"".concat(t,"-source"),type:"raster",tiles:n,tileSize:r,maxzoom:a,minzoom:o,onLoadStart:s,onLoadFinish:d,layers:e=>{let{sourceId:n}=e;return(0,l.jsx)(Y,{id:t,type:"raster",source:n,beforeId:c,paint:{"raster-opacity":u}})}})},eL=e=>Math.exp((20-e)/12),eb=e=>{let{id:t="mapbox-dem",url:n="mapbox://mapbox.mapbox-terrain-dem-v1",maxzoom:r=14,...a}=e,o=d(),i=y(),l=()=>{null==o||o.setTerrain({source:t,exaggeration:eL(o.getZoom())})};return(0,u.useEffect)(()=>{if(null==o?void 0:o.style._loaded){if(!o.getSource(t)){let e={id:t,url:n,maxzoom:r,...a,type:"raster-dem"};o.addSource(t,e)}l()}},[i]),(0,u.useEffect)(()=>(null==o||o.on("zoom",l),()=>{o&&o.style&&o.getSource(t)&&(o.off("zoom",l),o.setTerrain(null),o.removeSource(t))}),[]),null};var ex=n(607871),eC=n(493936),e_=n(160404),eM=n(353844),eE=n(190993),eB=n(263153),eP=n(882319),eW=n(733846),ej=n(687331),eA=n(56425),eT=n(460758),eI=n(697217),ez=n(797686),eF=n(3502),eO=n(7310),eG=n(430955),eN=n(447572),eZ=n(752417),eH=n(86734),eD=n(83128),eU=n(741247),eK=n(157278),eV=n(570046),eY=n(973569),eJ=n(698681),eQ=n(965102),eX=n(436919),e$=n(381225),eq=n(666951),e0=n(901002),e1=n(238766);let e2=e=>{switch(e){case"Restroom":return eY.default;case"WaterSource":return e0.default;case"Generic":default:return ez.default;case"Parking":return eZ.default;case"Monument":return eN.default;case"Park":return eH.default;case"Peak":return eD.default;case"Beach":return eB.default;case"Viewpoint":return eq.default;case"Art":return e_.default;case"Restaurant":return eV.default;case"Bar":return eE.default;case"BikeShop":return eP.default;case"Grocery":return eF.default;case"Pharmacy":return eU.default;case"CampSite":return eW.default;case"Attraction":return eM.default;case"Trailhead":return eX.default;case"AidStation":return ex.default;case"TransitionZone":return e$.default;case"Checkpoint":return ej.default;case"MeetingSpot":return eG.default;case"RestArea":return eK.default;case"Alert":return eC.default;case"Lodging":return eO.default;case"GasStation":return eI.default;case"Coffee":return eA.default;case"DistanceMarker":return eT.default;case"SegmentStart":return eQ.default;case"SegmentEnd":return eJ.default}},e3=e=>{let{type:t,title:n,...r}=e,a=e2((0,e1.o9)(t));return(0,l.jsx)(a,{title:n,...r})};var e4=n(716139),e9=n.n(e4);let e6=e=>{let{type:t,theme:n="light",enlargeHitArea:r=!1,children:a,className:o,onClick:i,onMouseEnter:u,onMouseLeave:c,onContextMenu:s}=e;return(0,l.jsx)("div",{className:(0,w.W)(e9().waypoint,t&&e9()[t],e9()[n],r&&e9().enlargeHitArea,o),onClick:i,onMouseEnter:u,onMouseLeave:c,onContextMenu:s,children:(0,l.jsx)("div",{className:e9().circle,children:a})})}},238766:function(e,t,n){"use strict";n.d(t,{LU:function(){return l},bI:function(){return i},o9:function(){return a}});var r=n(637540);let a=e=>{switch(e){case 1:case"Restroom":return"Restroom";case 2:case"WaterSource":return"WaterSource";case 3:case"Generic":default:return"Generic";case 4:case"Parking":return"Parking";case 5:case"Monument":return"Monument";case 6:case"Park":return"Park";case 7:case"Peak":return"Peak";case 8:case"Beach":return"Beach";case 9:case"Viewpoint":return"Viewpoint";case 10:case"Art":return"Art";case 11:case"Restaurant":return"Restaurant";case 12:case"Bar":return"Bar";case 13:case"BikeShop":return"BikeShop";case 14:case"Grocery":return"Grocery";case 15:case"Pharmacy":return"Pharmacy";case 16:case"CampSite":return"CampSite";case 17:case"Attraction":return"Attraction";case 18:case"Trailhead":return"Trailhead";case 19:case"AidStation":return"AidStation";case 20:case"TransitionZone":return"TransitionZone";case 21:case"Checkpoint":return"Checkpoint";case 22:case"MeetingSpot":return"MeetingSpot";case 23:case"RestArea":return"RestArea";case 24:case"Alert":return"Alert";case 25:case"Lodging":return"Lodging";case 26:case"GasStation":return"GasStation";case 27:case"Coffee":return"Coffee";case 28:case"DistanceMarker":return"DistanceMarker";case 29:case"SegmentStart":return"SegmentStart";case 30:case"SegmentEnd":return"SegmentEnd"}},o=e=>{switch(e){case r.nS.ride:case"Ride":return"Ride";case r.nS.run:case"Run":return"Run";case r.nS.walk:case"Walk":return"Walk";case r.nS.hike:case"Hike":return"Hike";case r.nS.trailRun:case"TrailRun":return"TrailRun";case r.nS.gravelRide:case"GravelRide":return"GravelRide";case r.nS.mountainBikeRide:case"MountainBikeRide":return"MountainBikeRide";case r.nS.eMountainBikeRide:case"EMountainBikeRide":return"EMountainBikeRide";case r.nS.eBikeRide:case"EBikeRide":return"EBikeRide";case r.nS.swim:case"Swim":return"Swim";case r.nS.kayak:case"Kayak":return"Kayak";case r.nS.golf:case"Golf":return"Golf";case r.nS.sail:case"Sail":return"Sail";case r.nS.canoe:case"Canoe":return"Canoe";case r.nS.alpineSki:case"AlpineSki":return"AlpineSki";case r.nS.backcountrySki:case"BackcountrySki":return"BackcountrySki";case r.nS.iceSkate:case"IceSkate":return"IceSkate";case r.nS.inlineSkate:case"InlineSkate":return"InlineSkate";case r.nS.handcycle:case"Handcycle":return"Handcycle";case r.nS.kitesurf:case"Kitesurf":return"Kitesurf";case r.nS.nordicSki:case"NordicSki":return"NordicSki";case r.nS.rockClimbing:case"RockClimbing":return"RockClimbing";case r.nS.rollerSki:case"RollerSki":return"RollerSki";case r.nS.rowing:case"Rowing":return"Rowing";case r.nS.skateboard:case"Skateboard":return"Skateboard";case r.nS.snowshoe:case"Snowshoe":return"Snowshoe";case r.nS.standUpPaddle:case"StandUpPaddle":return"StandUpPaddle";case r.nS.surfing:case"Surfing":return"Surfing";case r.nS.velomobile:case"Velomobile":return"Velomobile";case r.nS.windsurf:case"Windsurf":return"Windsurf";case r.nS.wheelchair:case"Wheelchair":return"Wheelchair";default:return"Ride"}},i=e=>{switch(e){case r.nS.ride:case"Ride":case r.nS.run:case"Run":case r.nS.walk:case"Walk":case r.nS.hike:case"Hike":case r.nS.trailRun:case"TrailRun":case r.nS.gravelRide:case"GravelRide":case r.nS.mountainBikeRide:case"MountainBikeRide":case r.nS.eMountainBikeRide:case"EMountainBikeRide":case r.nS.eBikeRide:case"EBikeRide":case r.nS.swim:case"Swim":case r.nS.kayak:case"Kayak":case r.nS.golf:case"Golf":case r.nS.sail:case"Sail":case r.nS.canoe:case"Canoe":case r.nS.alpineSki:case"AlpineSki":case r.nS.backcountrySki:case"BackcountrySki":case r.nS.iceSkate:case"IceSkate":case r.nS.inlineSkate:case"InlineSkate":case r.nS.handcycle:case"Handcycle":case r.nS.kitesurf:case"Kitesurf":case r.nS.nordicSki:case"NordicSki":case r.nS.rollerSki:case"RollerSki":case r.nS.rowing:case"Rowing":case r.nS.skateboard:case"Skateboard":case r.nS.snowshoe:case"Snowshoe":case r.nS.standUpPaddle:case"StandUpPaddle":case r.nS.surfing:case"Surfing":case r.nS.velomobile:case"Velomobile":case r.nS.windsurf:case"Windsurf":case r.nS.wheelchair:case"Wheelchair":return!0;default:return!1}},l=e=>!["Swim","Kayak","Sail","Canoe","IceSkate","Kitesurf","Rowing","StandUpPaddle","Surfing","Windsurf"].includes(o(e))},431398:function(e){e.exports={geocoder:"Geocoder_geocoder__qfe2c"}},495056:function(e){e.exports={container:"Map_container__0PwNr",notSupported:"Map_notSupported__Ugcaa"}},720510:function(e){e.exports={popup:"Popup_popup__tIUNz",closeBtn:"Popup_closeBtn__r6r_h"}},716139:function(e){e.exports={waypoint:"WaypointCircle_waypoint__k1vKF",enlargeHitArea:"WaypointCircle_enlargeHitArea__n9BEK",circle:"WaypointCircle_circle__dARjK",start:"WaypointCircle_start__YBFFS",end:"WaypointCircle_end___hAv4",rabbit:"WaypointCircle_rabbit__OljLi",temporary:"WaypointCircle_temporary__uQ3Nm",number:"WaypointCircle_number__Gwtp3",icon:"WaypointCircle_icon__9PFT_",dark:"WaypointCircle_dark__Vvt0A"}},949465:function(e,t,n){"use strict";n.d(t,{B:function(){return a},l:function(){return r}});let r="metric",a="imperial"},183530:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});let r=e=>e/1e3},611607:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});let r=e=>e/1609.344},474128:function(e,t,n){"use strict";n.d(t,{V:function(){return i},s:function(){return l}});var r=n(949465),a=n(183530),o=n(611607);let i=e=>e===r.B?"mile":"kilometer",l=function(e,t,n){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n+=l.skipFloorBuffer?0:1,[t===r.B?(0,o.k)(n):(0,a.U)(n),i(t)]}},921701:function(e,t,n){"use strict";n.d(t,{P:function(){return i},f:function(){return o}});var r=n(949465);let a=e=>e/.3048,o=e=>e===r.B?"foot":"meter",i=(e,t,n)=>[t===r.B?a(n):n,o(t)]},925703:function(e,t,n){"use strict";n.d(t,{B:function(){return o}});var r=n(474128),a=n(614802);let o=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{convert:i=!0,...l}=o,[u,c]=i?(0,r.s)(e,t,n):[n,(0,r.V)(t)];return(0,a.H)(u,e,{unit:c,style:"unit",unitDisplay:"short",roundingMode:"floor",maximumFractionDigits:1,minimumFractionDigits:1,...l})}},990450:function(e,t,n){"use strict";n.d(t,{F:function(){return o}});var r=n(921701),a=n(614802);let o=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{convert:i=!0,...l}=o,[u,c]=i?(0,r.P)(e,t,n):[n,(0,r.f)(t)];return(0,a.H)(u,e,{unit:c,style:"unit",maximumFractionDigits:0,...l})}}}]);